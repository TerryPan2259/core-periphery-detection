.. note::
    :class: sphx-glr-download-link-note

    Click :ref:`here <sphx_glr_download_auto_examples_example.py>` to download the full example code
.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_example.py:


==========================
Borgatti Everett algorithm
==========================
Example of parallel implementation of betweenness centrality using the
multiprocessing module from Python Standard Library.
The function betweenness centrality accepts a bunch of nodes and computes
the contribution of those nodes to the betweenness centrality of the whole
network. Here we divide the network in chunks of nodes and we compute their
contribution to the betweenness centrality of the whole network.
This doesn't work in python2.7.13. It does work in 3.6, 3.5, 3.4, and 3.3.
It may be related to this:
https://stackoverflow.com/questions/1816958/cant-pickle-type-instancemethod-when-using-multiprocessing-pool-map



.. code-block:: python



    import csv
    import numpy as np
    import pandas as pd
    import networkx as nx
    import _cpalgorithm as _cp
    import cpalgorithm as cp

    G=nx.karate_club_graph()
    #G=nx.florentine_families_graph()
    #df = pd.read_csv("karate.dat", sep='\t');
    #G = nx.from_pandas_edgelist(df, "source", 'target', 'weight')

    be = cp.BE()

    Q = []
    be.detect(G)
    c = be.get_pair_id()
    x = be.is_core()

    print(sum(be.score()))

    #significance, p_values, q_tilde, s_tilde = cp.qstest(c, x, G, be, num_of_thread = 4, null_model = cp.erdos_renyi)
    print(c,x)
    #print(significance, p_values)

**Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_auto_examples_example.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download

     :download:`Download Python source code: example.py <example.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: example.ipynb <example.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
